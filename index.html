<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stellar Gambit - Cosmic Chess Odyssey</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/board.css">
    <link rel="stylesheet" href="assets/css/pieces.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Header Section -->
        <header class="game-header">
            <div class="header-content">
                <h1 class="game-title">
                    <span class="title-icon">🌌</span>
                    STELLAR GAMBIT
                    <span class="title-subtitle">Cosmic Chess Odyssey</span>
                </h1>
                <div class="game-controls">
                    <button id="newGameBtn" class="control-btn">🎮 New Game</button>
                    <button id="pieceGuideBtn" class="control-btn">📖 Piece Guide</button>
                    <button id="chessHistoryBtn" class="control-btn">📚 Chess Lore</button>
                    <button id="settingsBtn" class="control-btn">⚙️ Settings</button>
                </div>
            </div>
        </header>

        <!-- Main Game Area -->
        <main class="game-main">
            <!-- Game Info Panel -->
            <aside class="game-info">
                <div class="player-info">
                    <div class="player-section player-ai">
                        <h3>🤖 AI Commander</h3>
                        <div class="player-stats">
                            <span class="difficulty">Level: <span id="aiLevel">Medium</span></span>
                            <span class="captured-pieces" id="aiCaptured"></span>
                        </div>
                    </div>
                    
                    <div class="game-status">
                        <div class="turn-indicator">
                            <span id="currentTurn">White to Move</span>
                        </div>
                        <div class="game-timer">
                            <span id="gameTime">00:00</span>
                        </div>
                    </div>

                    <div class="player-section player-human">
                        <h3>👨‍🚀 Human Player</h3>
                        <div class="player-stats">
                            <span class="score">Score: <span id="playerScore">0</span></span>
                            <span class="captured-pieces" id="playerCaptured"></span>
                        </div>
                    </div>
                </div>

                <div class="move-history">
                    <h4>📜 Battle Log</h4>
                    <div id="moveList" class="move-list"></div>
                </div>
            </aside>

            <!-- Chess Board -->
            <section class="board-container">
                <div id="chessBoard" class="chess-board">
                    <!-- Board squares will be generated by JavaScript -->
                </div>
                <div class="board-coordinates">
                    <div class="files">a b c d e f g h</div>
                    <div class="ranks">8 7 6 5 4 3 2 1</div>
                </div>
            </section>

            <!-- Action Panel -->
            <aside class="action-panel">
                <div class="game-actions">
                    <button id="undoBtn" class="action-btn" disabled>↶ Undo</button>
                    <button id="redoBtn" class="action-btn" disabled>↷ Redo</button>
                    <button id="hintBtn" class="action-btn">💡 Hint</button>
                    <button id="resignBtn" class="action-btn danger">🏳️ Resign</button>
                </div>

                <div class="game-modes">
                    <h4>🎯 Game Mode</h4>
                    <div class="mode-selector">
                        <input type="radio" id="standardMode" name="gameMode" value="standard" checked>
                        <label for="standardMode">♟️ Standard Chess</label>
                        
                        <input type="radio" id="assistedMode" name="gameMode" value="assisted">
                        <label for="assistedMode">🎓 Assisted Mode</label>
                    </div>
                </div>

                <div class="ai-difficulty">
                    <h4>🤖 AI Difficulty</h4>
                    <select id="difficultySelect">
                        <option value="novice">🌱 Novice</option>
                        <option value="intermediate" selected>⚡ Intermediate</option>
                        <option value="advanced">🧠 Advanced</option>
                        <option value="master">👑 Master</option>
                    </select>
                </div>
            </aside>
        </main>

        <!-- Modal Dialogs -->
        <div id="gameModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalTitle">Game Over</h2>
                    <button id="closeModal" class="close-btn">✕</button>
                </div>
                <div class="modal-body">
                    <p id="modalMessage">Checkmate! You won!</p>
                    <div class="modal-actions">
                        <button id="playAgainBtn" class="modal-btn primary">🎮 Play Again</button>
                        <button id="analyzeBtn" class="modal-btn">📊 Analyze</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Panel -->
        <div id="settingsPanel" class="settings-panel hidden">
            <div class="settings-content">
                <h3>⚙️ Game Settings</h3>
                <div class="setting-group">
                    <label>🎵 Sound Effects</label>
                    <input type="checkbox" id="soundToggle" checked>
                </div>
                <div class="setting-group">
                    <label>🎨 Board Theme</label>
                    <select id="themeSelect">
                        <option value="space">🌌 Space</option>
                        <option value="classic">♟️ Classic</option>
                        <option value="neon">💫 Neon</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label>⏰ Time Control</label>
                    <select id="timeControl">
                        <option value="unlimited">∞ Unlimited</option>
                        <option value="blitz">⚡ Blitz (5 min)</option>
                        <option value="rapid">🏃 Rapid (15 min)</option>
                        <option value="classical">🎯 Classical (30 min)</option>
                    </select>
                </div>
                <button id="saveSettings" class="settings-btn">💾 Save Settings</button>
            </div>
        </div>

        <!-- Piece Guide Panel -->
        <div id="pieceGuidePanel" class="piece-guide-panel hidden">
            <div class="guide-header">
                <h3>📖 Chess Piece Guide</h3>
                <button id="closePieceGuide" class="close-btn">✕</button>
            </div>
            <div class="guide-content">
                <div class="piece-entry">
                    <div class="piece-display">
                        <span class="guide-piece piece-king piece-white">♔</span>
                        <span class="guide-piece piece-king piece-black">♚</span>
                    </div>
                    <div class="piece-info">
                        <h4>King</h4>
                        <p>Moves one square in any direction. The most important piece - protect at all costs!</p>
                        <div class="movement-pattern">
                            <div class="pattern-grid">
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square king"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="piece-entry">
                    <div class="piece-display">
                        <span class="guide-piece piece-queen piece-white">♕</span>
                        <span class="guide-piece piece-queen piece-black">♛</span>
                    </div>
                    <div class="piece-info">
                        <h4>Queen</h4>
                        <p>Most powerful piece. Moves any number of squares horizontally, vertically, or diagonally.</p>
                        <div class="movement-pattern">
                            <div class="pattern-grid">
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square queen"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square valid"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="piece-entry">
                    <div class="piece-display">
                        <span class="guide-piece piece-rook piece-white">♖</span>
                        <span class="guide-piece piece-rook piece-black">♜</span>
                    </div>
                    <div class="piece-info">
                        <h4>Rook</h4>
                        <p>Moves any number of squares horizontally or vertically. Can castle with the king.</p>
                        <div class="movement-pattern">
                            <div class="pattern-grid">
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square rook"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="piece-entry">
                    <div class="piece-display">
                        <span class="guide-piece piece-bishop piece-white">♗</span>
                        <span class="guide-piece piece-bishop piece-black">♝</span>
                    </div>
                    <div class="piece-info">
                        <h4>Bishop</h4>
                        <p>Moves any number of squares diagonally. Each player starts with one light and one dark square bishop.</p>
                        <div class="movement-pattern">
                            <div class="pattern-grid">
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square bishop"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="piece-entry">
                    <div class="piece-display">
                        <span class="guide-piece piece-knight piece-white">♘</span>
                        <span class="guide-piece piece-knight piece-black">♞</span>
                    </div>
                    <div class="piece-info">
                        <h4>Knight</h4>
                        <p>Moves in an L-shape: 2 squares in one direction, then 1 square perpendicular. Can jump over pieces.</p>
                        <div class="movement-pattern">
                            <div class="pattern-grid">
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square knight"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="piece-entry">
                    <div class="piece-display">
                        <span class="guide-piece piece-pawn piece-white">♙</span>
                        <span class="guide-piece piece-pawn piece-black">♟</span>
                    </div>
                    <div class="piece-info">
                        <h4>Pawn</h4>
                        <p>Moves forward one square, or two on first move. Captures diagonally. Can promote when reaching the end.</p>
                        <div class="movement-pattern">
                            <div class="pattern-grid">
                                <div class="pattern-square"></div>
                                <div class="pattern-square valid"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square capture"></div>
                                <div class="pattern-square pawn"></div>
                                <div class="pattern-square capture"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square"></div>
                                <div class="pattern-square"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chess History Panel -->
        <div id="chessHistoryPanel" class="chess-history-panel hidden">
            <div class="history-header">
                <h3>📚 The Ancient Art of Chess</h3>
                <button id="closeChessHistory" class="close-btn">✕</button>
            </div>
            <div class="history-content">
                <div class="history-section">
                    <h4>🏛️ Origins & Evolution</h4>
                    <p>Chess emerged from the ancient Indian game <strong>Chaturanga</strong> around the 6th century CE. The name derives from Sanskrit meaning "four divisions" - infantry, cavalry, elephants, and chariots, representing the four branches of the Indian military.</p>
                    
                    <p>As trade routes expanded, the game traveled westward through Persia, where it became <strong>Shatranj</strong>. Persian players introduced the concept of "Shah Mat" (the king is dead), which evolved into our modern "checkmate."</p>
                    
                    <p>By the 10th century, chess had reached Europe through Islamic conquest of Spain. Medieval Europeans transformed the game significantly, creating the modern pieces we know today around 1475-1500 CE during the Renaissance.</p>
                </div>

                <div class="history-section">
                    <h4>🎭 Piece Evolution</h4>
                    <p><strong>The Queen:</strong> Originally the weakest piece called "Firzan" (counselor), it became the most powerful during the late 15th century, possibly reflecting the influence of powerful queens like Isabella of Castile.</p>
                    
                    <p><strong>The Bishop:</strong> Evolved from the elephant (Fil) in Shatranj. Europeans, unfamiliar with war elephants, reinterpreted the piece as a bishop, reflecting the Church's medieval power.</p>
                    
                    <p><strong>The Rook:</strong> Derives from the Persian "Rukh" meaning chariot. The castle-like appearance emerged in medieval Europe, symbolizing fortress warfare.</p>
                </div>

                <div class="history-section">
                    <h4>🧠 Strategic Development</h4>
                    <p><strong>Opening Theory:</strong> Systematic opening study began in the 16th century with Ruy López's work. The Spanish Opening (Ruy López) remains one of the most analyzed openings today.</p>
                    
                    <p><strong>Positional Understanding:</strong> Wilhelm Steinitz (1836-1900) revolutionized chess by introducing positional principles - controlling the center, piece coordination, and pawn structure analysis.</p>
                    
                    <p><strong>Modern Era:</strong> The 20th century brought scientific approaches through players like José Capablanca, who emphasized endgame technique, and Mikhail Botvinnik, who introduced systematic preparation methods.</p>
                </div>

                <div class="history-section">
                    <h4>🏆 Championship Legacy</h4>
                    <p>The World Championship was formalized in 1886 when Wilhelm Steinitz defeated Johannes Zukertort. Notable champions include:</p>
                    
                    <ul>
                        <li><strong>Emanuel Lasker (1894-1921):</strong> Longest-reigning champion, emphasized psychological warfare</li>
                        <li><strong>José Capablanca (1921-1927):</strong> Known for exceptional endgame technique and natural talent</li>
                        <li><strong>Garry Kasparov (1985-2000):</strong> Dominated the computer age, first to lose to AI (Deep Blue, 1997)</li>
                        <li><strong>Magnus Carlsen (2013-2023):</strong> Highest-rated player in history, known for universal playing style</li>
                    </ul>
                </div>

                <div class="history-section">
                    <h4>🔬 Mathematical Insights</h4>
                    <p><strong>Complexity:</strong> Chess has approximately 10^120 possible games, more than the estimated number of atoms in the observable universe (10^80).</p>
                    
                    <p><strong>Perfect Play:</strong> Chess is theoretically solvable but computationally intractable. Current engines evaluate positions up to 50+ moves deep using advanced algorithms.</p>
                    
                    <p><strong>Endgame Theory:</strong> All positions with 7 pieces or fewer have been solved completely through tablebase computation, revealing perfect play outcomes.</p>
                </div>

                <div class="history-section">
                    <h4>🌍 Cultural Impact</h4>
                    <p>Chess transcended mere gameplay to become a metaphor for strategy, intelligence, and conflict. It appears in literature from medieval romances to modern novels, symbolizing the human condition's complexity.</p>
                    
                    <p>The game influenced military strategy, with generals studying chess principles. Napoleon Bonaparte was an avid player, and chess terminology entered common language - "pawn," "gambit," "stalemate."</p>
                    
                    <p>Today, chess serves as a bridge between cultures, with international competitions fostering global understanding and the rise of online platforms democratizing access to high-level play.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="src/chess-engine.js"></script>
    <script src="src/ai-player.js"></script>
    <script src="src/game-ui.js"></script>
    <script src="src/main.js"></script>
</body>
</html>
